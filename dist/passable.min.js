!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).passable=e()}(this,(function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t(){return(t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function r(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(){};o.prototype.set=function(n){return this.parent=n,this};var i=new o,u=function(n){var e=n.fieldName,t=n.statement,r=n.severity,o=n.parent;o.result.markAsync(e);var i=function(){a(n),f(o,e)||o.result.markAsDone(e),f(o)||o.result.markAsDone()},u=function(u){var a="string"==typeof u?u:t;o.pending.includes(n)&&o.result.fail(e,a,r),i()};try{n.then(i,u)}catch(n){u()}},a=function(n){n.parent.pending=n.parent.pending.filter((function(e){return e!==n}))},f=function(n,e){return!!n.pending.length&&(e?n.pending.some((function(n){return n.fieldName===e})):!!n.pending.length)},s=function(n){var e,r=n,o=r.parent,i=r.fieldName,u=!1;o.specific.excludes(i)?o.result.addToSkipped(i):(o.result.initFieldCounters(i),o.result.bumpTestCounter(i),n&&"function"==typeof n.then?u=!0:e=function(n){var e;try{e=n()}catch(n){e=!1}return!1===e&&n.parent.result.fail(n.fieldName,n.statement,n.severity),e}(n),e&&"function"==typeof e.then&&(u=!0,n=t(e,n)),u&&o.pending.push(n))},c=function(n){return!!n&&("function"==typeof n.then||"function"==typeof n)},l=function(n){for(var e,r,o,u=arguments.length,a=new Array(u>1?u-1:0),f=1;f<u;f++)a[f-1]=arguments[f];"string"==typeof a[0]?(e=a[0],r=a[1],o=a[2]):c(a[0])&&(r=a[0],o=a[1]),c(r)&&(t(r,{fieldName:n,statement:e,severity:o,parent:i.parent}),s(r))},p=["warn","fail"],y=function(){function t(n){if(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n){if(!t.is(n))throw new TypeError;if("string"==typeof n||Array.isArray(n)){if(0===n.length)return;this.only=this.populateGroup(this.only,n)}else n.only&&(this.only=this.populateGroup(this.only,n.only)),n.not&&(this.not=this.populateGroup(this.not,n.not))}}var r,o,i;return r=t,i=[{key:"is",value:function(e){return Array.isArray(e)?e.every((function(n){return"string"==typeof n})):"string"==typeof e||!(null===e||"object"!==n(e)||!e.hasOwnProperty("only")&&!e.hasOwnProperty("not"))}}],(o=[{key:"populateGroup",value:function(n,e){return n=n||{},"string"==typeof e?n[e]=!0:Array.isArray(e)&&e.forEach((function(e){return n[e]=!0})),n}},{key:"excludes",value:function(n){return!(!this.only||this.only[n])||!(!this.not||!this.not[n])}}])&&e(r.prototype,o),i&&e(r,i),t}(),b=function(e,t,r){return"[Passable]: failed during suite initialization. Unexpected '".concat(n(t),"' for '").concat(e,"' argument.\n    See: ").concat(r||"https://fiverr.github.io/passable/getting_started/writing_tests.html")},g=function(n,e,t){if("string"!=typeof n)throw new TypeError(b("suite name",n));if("function"!=typeof e)throw new TypeError(b("tests",e));if(t&&!y.is(t))throw new TypeError(b("specific",e,"https://fiverr.github.io/passable/test/specific.html"));var o=function(n){var e=[],t=null,o=!1,i=!1,u=!1,a=function(n,e){i=!0,c.warnings[n]=c.warnings[n]||[],c.warnings[n].push(e),c.warnCount++,c.testsPerformed[n].warnCount++},f=function(n,e){o=!0,c.errors[n]=c.errors[n]||[],c.errors[n].push(e),c.failCount++,c.testsPerformed[n].failCount++},s=function(){e.forEach((function(n){return!u&&n(c)}))},c={name:n,failCount:0,warnCount:0,testCount:0,testsPerformed:{},errors:{},warnings:{},skipped:[]};return Object.defineProperties(c,{hasErrors:{value:function(n){return n?Boolean(c.getErrors(n).length):o},writable:!0,configurable:!0,enumerable:!1},hasWarnings:{value:function(n){return n?Boolean(c.getWarnings(n).length):i},writable:!0,configurable:!0,enumerable:!1},getErrors:{value:function(n){return n?c.errors[n]?c.errors[n]:[]:c.errors},writable:!0,configurable:!0,enumerable:!1},getWarnings:{value:function(n){return n?c.warnings[n]?c.warnings[n]:[]:c.warnings},writable:!0,configurable:!0,enumerable:!1},done:{value:function(n){return"function"!=typeof n?c:(t||n(c),e.push(n),c)},writable:!0,configurable:!0,enumerable:!1},after:{value:function(n,e){return"function"!=typeof e?c:(!(t=t||{})[n]&&c.testsPerformed[n]?e(c):t[n]&&(t[n].callbacks=[].concat(r(t[n].callbacks||[]),[e])),c)},writable:!0,configurable:!0,enumerable:!1},cancel:{value:function(){return u=!0,c},writable:!0,configurable:!0,enumerable:!1}}),{initFieldCounters:function(n){if(c.testsPerformed[n])return c;c.testsPerformed[n]={testCount:0,failCount:0,warnCount:0}},bumpTestError:f,bumpTestWarning:a,bumpTestCounter:function(n){if(!c.testsPerformed[n])return c;c.testsPerformed[n].testCount++,c.testCount++},fail:function(n,e,t){if(!c.testsPerformed[n])return c;"warn"===(t&&p.includes(t)?t:"fail")?a(n,e):f(n,e)},addToSkipped:function(n){!c.skipped.includes(n)&&c.skipped.push(n)},runCompletionCallbacks:s,markAsync:function(n){(t=t||{})[n]=t[n]||{},t[n]={done:!1,callbacks:t[n].callbacks||[]}},markAsDone:function(n){if(!n)return s();null!==t&&t[n]&&(t[n].done=!0,t[n].callbacks&&t[n].callbacks.forEach((function(n){return!u&&n(c)})))},output:c}}(n),a=[],f={specific:new y(t),result:o,pending:a};return i.set(f),e(l,o.output),i.set(null),[].concat(a).forEach(u),o.output};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var m=function(n,e){return n(e={exports:{}},e.exports),e.exports}((function(e,r){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(t)}function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(t,!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var u=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)&&"function"==typeof n[e]},a=Function("return this")(),f=function(){return"function"==typeof a.Proxy};function s(n){return Boolean(Array.isArray(n))}function c(n){return Boolean("number"==typeof n)}function l(n){return Boolean("string"==typeof n)}function p(n,e){return e instanceof RegExp?e.test(n):"string"==typeof e&&new RegExp(e).test(n)}function y(n,t){return Array.isArray(t)&&["string","number","boolean"].includes(e(n))?t.includes(n):"string"==typeof t&&"string"==typeof n&&t.includes(n)}function b(n,e){return n===e}function g(n){var e=!isNaN(parseFloat(n))&&!isNaN(Number(n))&&isFinite(n);return Boolean(e)}function m(n,e){return g(n)&&g(e)&&Number(n)===Number(e)}function h(n){return!n||(g(n)?0===n:Object.prototype.hasOwnProperty.call(n,"length")?0===n.length:"object"!==e(n)||0===Object.keys(n).length)}function d(n,e){return g(n)&&g(e)&&Number(n)>Number(e)}function v(n,e){return g(n)&&g(e)&&Number(n)>=Number(e)}function w(n,e){return g(n)&&g(e)&&Number(n)<Number(e)}function E(n,e){return g(n)&&g(e)&&Number(n)<=Number(e)}function O(n,e){return n.length===e}s.negativeForm="isNotArray",c.negativeForm="isNotNumber",l.negativeForm="isNotString",p.negativeForm="notMatches",y.negativeForm="notInside",b.negativeForm="notEquals",g.negativeForm="isNotNumeric",m.negativeForm="numberNotEquals",h.negativeForm="isNotEmpty",d.alias="gt",v.alias="gte",w.alias="lt",E.alias="lte",O.negativeForm="lengthNotEquals";var N=function(n){var e=function(e){var t=n[e].negativeForm,r=n[e].alias;t&&(n[t]=function(){return!n[e].apply(n,arguments)}),r&&(n[r]=n[e])};for(var t in n)e(t);return n}({isArray:s,isNumber:c,isString:l,matches:p,inside:y,equals:b,numberEquals:m,isNumeric:g,isEmpty:h,greaterThan:d,greaterThanOrEquals:v,lessThan:w,lessThanOrEquals:E,longerThan:function(n,e){return n.length>e},longerThanOrEquals:function(n,e){return n.length>=e},shorterThan:function(n,e){return n.length<e},shorterThanOrEquals:function(n,e){return n.length<=e},lengthEquals:O,isOdd:function(n){return!!g(n)&&n%2!=0},isEven:function(n){return!!g(n)&&n%2==0}});function P(n,t){if("function"==typeof n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(!0!==n.apply(void 0,[t].concat(o)))throw new Error("[Enforce]: invalid ".concat(e(t)," value"))}}function A(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i({},N,{},n);if(f())return function(n){var t=new Proxy(e,{get:function(e,r){if(u(e,r))return function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return P.apply(void 0,[e[r],n].concat(i)),t}}});return t};var o=Object.keys(e);return function(n){return o.reduce((function(o,a){return t(o,i({},u(e,a)&&r({},a,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return P.apply(void 0,[e[a],n].concat(r)),o}))))}),{})}}var j=new A;return j.Enforce=A,j}()}));return g.VERSION="7.2.4",g.enforce=m,g.Enforce=m.Enforce,g.test=l,g.validate=function(e){if("function"!=typeof e&&!(e instanceof Promise))throw new TypeError("[Validate]: expected ".concat(n(e)," to be a function."));try{return!1!==e()}catch(n){return!1}},g.any=require("anyone/any"),g.WARN="warn",g.FAIL="fail",g}));
//# sourceMappingURL=passable.min.js.map
