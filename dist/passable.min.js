!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.passable=t():n.passable=t()}(Function("return this")(),function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(e,o,function(t){return n[t]}.bind(null,o));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,r){"use strict";r.r(t);var e={};r.r(e),r.d(e,"rule",function(){return an});function o(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=["warn","fail"],a=function(n){var t=[],r=null,e=function(n,t){u.hasValidationWarnings=!0,u.validationWarnings[n]=u.validationWarnings[n]||[],u.validationWarnings[n].push(t),u.warnCount++,u.testsPerformed[n].warnCount++},a=function(n,t){u.hasValidationErrors=!0,u.validationErrors[n]=u.validationErrors[n]||[],u.validationErrors[n].push(t),u.failCount++,u.testsPerformed[n].failCount++},u={name:n,hasValidationErrors:!1,hasValidationWarnings:!1,failCount:0,warnCount:0,testCount:0,testsPerformed:{},validationErrors:{},validationWarnings:{},skipped:[],hasErrors:function(n){return n?Boolean(u.getErrors(n).length):u.hasValidationErrors},hasWarnings:function(n){return n?Boolean(u.getWarnings(n).length):u.hasValidationWarnings},getErrors:function(n){return n?u.validationErrors[n]?u.validationErrors[n]:[]:u.validationErrors},getWarnings:function(n){return n?u.validationWarnings[n]?u.validationWarnings[n]:[]:u.validationWarnings},done:function(n){return"function"!=typeof n?u:(r||n(u),t.push(n),u)},after:function(n,t){return"function"!=typeof t?u:(!(r=r||{})[n]&&u.testsPerformed[n]?t(u):r[n]&&(r[n].callbacks=[].concat(o(r[n].callbacks||[]),[t])),u)}};return{initFieldCounters:function(n){if(u.testsPerformed[n])return u;u.testsPerformed[n]={testCount:0,failCount:0,warnCount:0}},bumpTestError:a,bumpTestWarning:e,bumpTestCounter:function(n){if(!u.testsPerformed[n])return u;u.testsPerformed[n].testCount++,u.testCount++},fail:function(n,t,r){if(!u.testsPerformed[n])return u;"warn"===(r&&i.includes(r)?r:"fail")?e(n,t):a(n,t)},addToSkipped:function(n){!u.skipped.includes(n)&&u.skipped.push(n)},runCompletionCallbacks:function(){t.forEach(function(n){return n(u)})},markAsync:function(n){(r=r||{})[n]=r[n]||{},r[n]={done:!1,callbacks:r[n].callbacks||[]}},markAsDone:function(n){null!==r&&r[n]&&(r[n].done=!0,r[n].callbacks&&r[n].callbacks.forEach(function(n){return n(u)}))},output:u}};function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function s(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var f=function(){function n(t){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t){if(!n.is(t))throw new TypeError;if("string"==typeof t||Array.isArray(t)){if(0===t.length)return;this.only=this.populateGroup(this.only,t)}else t.only&&(this.only=this.populateGroup(this.only,t.only)),t.not&&(this.not=this.populateGroup(this.not,t.not))}}var t,r,e;return t=n,e=[{key:"is",value:function(n){return Array.isArray(n)?n.every(function(n){return"string"==typeof n}):"string"==typeof n||!(null===n||"object"!==u(n)||!n.hasOwnProperty("only")&&!n.hasOwnProperty("not"))}}],(r=[{key:"populateGroup",value:function(n,t){return n=n||{},"string"==typeof t?n[t]=!0:Array.isArray(t)&&t.forEach(function(t){return n[t]=!0}),n}},{key:"excludes",value:function(n){return!(!this.only||this.only[n])||!(!this.not||!this.not[n])}}])&&s(t.prototype,r),e&&s(t,e),n}();function c(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function y(n){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var p=function(n,t,r){return"[Passable]: failed during suite initialization. Unexpected '".concat(y(t),"' for '").concat(n,"' argument.\n    See: ").concat(r||"https://fiverr.github.io/passable/getting_started/writing_tests.html")},m=function n(t,r,e){var o=this;if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,"pending",[]),l(this,"addPendingTest",function(n){return o.pending.push(n)}),l(this,"clearPendingTest",function(n){o.pending=o.pending.filter(function(t){return t!==n}),0===o.pending.length&&o.res.runCompletionCallbacks()}),l(this,"hasRemainingPendingTests",function(n){return o.pending.some(function(t){return t.fieldName===n})}),l(this,"test",function(n,t,r,e){if(o.specific.excludes(n))o.res.addToSkipped(n);else{var i;if(o.res.initFieldCounters(n),"function"==typeof r)i=o.runTest;else{if(!(r instanceof Promise))return;i=o.addPendingTest}i(Object.assign(r,{fieldName:n,statement:t,severity:e}))}}),l(this,"runTest",function(n){if(n instanceof Promise){o.res.markAsync(n.fieldName);var t=function(){o.clearPendingTest(n),o.hasRemainingPendingTests(n.fieldName)||o.res.markAsDone(n.fieldName)};!function(n,t,r){try{n.then(t,r)}catch(n){r()}}(n,t,function(){o.res.fail(n.fieldName,n.statement,n.severity),t()})}else(function(n){var t=null;try{var r=n();t=null!=r&&r.hasOwnProperty("valid")?r.valid:"boolean"!=typeof r||r||!1}catch(n){t=!1}return!!t})(n)||o.res.fail(n.fieldName,n.statement,n.severity),o.clearPendingTest(n);o.res.bumpTestCounter(n.fieldName)}),l(this,"runPendingTests",function(){c(o.pending).forEach(o.runTest)}),"string"!=typeof t)throw new TypeError(p("suite name",t));if("function"!=typeof r)throw new TypeError(p("tests",r));if(e&&!f.is(e))throw new TypeError(p("specific",r,"https://fiverr.github.io/passable/test/specific.html"));this.specific=new f(e),this.res=a(t),r(this.test,this.res.output),this.runPendingTests()};var d=function(n,t,r){if(!S(n,t)){var e=Array.isArray(n)?JSON.stringify(n):n;throw new TypeError("[Passable]: Failed to execute '".concat(r,"': expected ").concat(e," to be a ").concat(t,"."))}return!0};var b=function(n,t){var r=T(t);return h(n,r)};var h=function(n,t){return!!t&&n.every(function(n){return t&&t.has(n)})};var g=function(n,t){return t.indexOf(n)>-1};function v(n){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var w=function(n){return n?"number"!=typeof n||isNaN(n)?n.hasOwnProperty("length")?n.length:"object"===v(n)?Object.keys(n).length:0:n:0};function E(n){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var S=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return r.some(function(t){return"array"===t?Array.isArray(n):E(n)===t})};var T=function(n){return n.reduce(function(n,t){return n.set(t,!0),n},new Map)};function N(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d(t,"boolean","isArray"),S(n,"array")===t}N.negativeForm="isNotArray";var P=N;function A(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d(t,"boolean","isNumber"),S(n,"number")===t}A.negativeForm="isNotNumber";var O=A;function j(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d(t,"boolean","isString"),S(n,"string")===t}j.negativeForm="isNotString";var k=j;function C(n,t){return t instanceof RegExp?t.test(n):!!S(t,"string")&&new RegExp(t).test(n)}C.negativeForm="notMatches";var x=C;function F(n,t){if(Array.isArray(t)){if(S(n,"string","number","boolean"))return g(n,t);if(Array.isArray(n))return b(n,t)}return!(!S(t,"string")||!S(n,"string"))&&g(n,t)}F.negativeForm="notInside";var W=F;function q(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d(t,"boolean","isNumeric"),(!isNaN(parseFloat(n))&&!isNaN(Number(n))&&isFinite(n))===t}q.negativeForm="isNotNumeric";var V=q;function _(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d(t,"boolean","isEmpty"),0===w(n)===t}_.negativeForm="isNotEmpty";var M=_;function R(n,t){return w(n)===t}R.negativeForm="sizeNotEquals";var I=R;var G=function(n,t){return w(n)>t};var z=function(n,t){return w(n)<t};var B=function(n,t){return w(n)<=t};var D=function(n,t){return w(n)>=t};function J(n,t){return V(n)&&V(t)&&Number(n)>Number(t)}J.alias="gt";var L=J;function U(n,t){return V(n)&&V(t)&&Number(n)>=Number(t)}U.alias="gte";var H=U;function K(n,t){return V(n)&&V(t)&&Number(n)<Number(t)}K.alias="lt";var Q=K;function X(n,t){return V(n)&&V(t)&&Number(n)<=Number(t)}X.alias="lte";var Y=X;var Z=function(n,t){return n.length>t};var $=function(n,t){return n.length>=t};var nn=function(n,t){return n.length<t};var tn=function(n,t){return n.length<=t};function rn(n,t){return n.length===t}rn.negativeForm="lengthNotEquals";var en=function(n){var t=function(t){var r=n[t].negativeForm,e=n[t].alias;r&&(n[r]=function(){return!n[t].apply(n,arguments)}),e&&(n[e]=n[t])};for(var r in n)t(r);return n}({isArray:P,isNumber:O,isString:k,matches:x,inside:W,isNumeric:V,isEmpty:M,largerThan:G,smallerThan:z,smallerThanOrEquals:B,largerThanOrEquals:D,sizeEquals:I,greaterThan:L,greaterThanOrEquals:H,lessThan:Q,lessThanOrEquals:Y,longerThan:Z,longerThanOrEquals:$,shorterThan:nn,shorterThanOrEquals:tn,lengthEquals:rn});function on(n){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var an=function(n,t){if("function"==typeof n){for(var r=arguments.length,e=new Array(r>2?r-2:0),o=2;o<r;o++)e[o-2]=arguments[o];if(!0!==n.apply(void 0,[t].concat(e)))throw new Error("[Enforce]: ".concat(n.name,"  invalid ").concat(on(t)," value"))}},un=Function("return this")(),sn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},en,n);if("function"==typeof un.Proxy)return function(n){var r=new Proxy(t,{get:function(t,o){if(t.hasOwnProperty(o)&&"function"==typeof t[o])return function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return an.apply(e,[t[o],n].concat(a)),r}}});return r};var r=Object.keys(t);return function(n){return r.reduce(function(r,o){return t.hasOwnProperty(o)&&"function"==typeof t[o]&&(r[o]=function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return an.apply(e,[t[o],n].concat(a)),r}),r},{})}};function fn(n){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var cn=function(n){if("function"!=typeof n&&!(n instanceof Promise))throw new TypeError("[Validate]: expected ".concat(fn(n)," to be a function."));try{return!1!==n()}catch(n){return!1}};function ln(n,t,r){return new m(n,t,r).res.output}ln.VERSION="6.3.5",ln.enforce=new sn({}),ln.Enforce=sn,ln.validate=cn,ln.WARN="warn",ln.FAIL="fail";t.default=ln}]).default});
//# sourceMappingURL=passable.min.js.map