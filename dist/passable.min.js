!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).passable=t()}(this,function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function t(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function o(n){for(var t=1;t<arguments.length;t++)if(t%2){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(t){e(n,t,r[t])})}else Object.defineProperties(n,Object.getOwnPropertyDescriptors(arguments[t]));return n}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(){};u.prototype.set=function(n){return this.parent=n,this};var a=new u,s=function(n){var t=n.fieldName,e=n.statement,r=n.severity,o=n.parent;o.result.markAsync(t);var i=function(){f(n),c(o,t)||o.result.markAsDone(t),c(o)||o.result.markAsDone()},u=function(){o.pending.includes(n)&&o.result.fail(t,e,r),i()};try{n.then(i,u)}catch(n){u()}},f=function(n){n.parent.pending=n.parent.pending.filter(function(t){return t!==n})},c=function(n,t){return!!n.pending.length&&(t?n.pending.some(function(n){return n.fieldName===t}):!!n.pending.length)},l=function(n,t,e,o){e&&("function"!=typeof e.then&&"function"!=typeof e||(r(e,{fieldName:n,statement:t,severity:o,parent:a.parent}),function(n){var t,e=n,o=e.parent,i=e.fieldName,u=!1;o.specific.excludes(i)?o.result.addToSkipped(i):(o.result.initFieldCounters(i),o.result.bumpTestCounter(i),n&&"function"==typeof n.then?u=!0:t=function(n){var t;try{t=n()}catch(n){t=!1}return!1===t&&n.parent.result.fail(n.fieldName,n.statement,n.severity),t}(n),t&&"function"==typeof t.then&&(u=!0,n=r(t,n)),u&&o.pending.push(n))}(e)))},p=["warn","fail"],y=function(){function e(n){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n){if(!e.is(n))throw new TypeError;if("string"==typeof n||Array.isArray(n)){if(0===n.length)return;this.only=this.populateGroup(this.only,n)}else n.only&&(this.only=this.populateGroup(this.only,n.only)),n.not&&(this.not=this.populateGroup(this.not,n.not))}}var r,o,i;return r=e,i=[{key:"is",value:function(t){return Array.isArray(t)?t.every(function(n){return"string"==typeof n}):"string"==typeof t||!(null===t||"object"!==n(t)||!t.hasOwnProperty("only")&&!t.hasOwnProperty("not"))}}],(o=[{key:"populateGroup",value:function(n,t){return n=n||{},"string"==typeof t?n[t]=!0:Array.isArray(t)&&t.forEach(function(t){return n[t]=!0}),n}},{key:"excludes",value:function(n){return!(!this.only||this.only[n])||!(!this.not||!this.not[n])}}])&&t(r.prototype,o),i&&t(r,i),e}(),g=function(t,e,r){return"[Passable]: failed during suite initialization. Unexpected '".concat(n(e),"' for '").concat(t,"' argument.\n    See: ").concat(r||"https://fiverr.github.io/passable/getting_started/writing_tests.html")},h=function(n,t,e){if("string"!=typeof n)throw new TypeError(g("suite name",n));if("function"!=typeof t)throw new TypeError(g("tests",t));if(e&&!y.is(e))throw new TypeError(g("specific",t,"https://fiverr.github.io/passable/test/specific.html"));var r=function(n){var t=[],e=null,r=!1,o=!1,u=!1,a=function(n,t){o=!0,c.warnings[n]=c.warnings[n]||[],c.warnings[n].push(t),c.warnCount++,c.testsPerformed[n].warnCount++},s=function(n,t){r=!0,c.errors[n]=c.errors[n]||[],c.errors[n].push(t),c.failCount++,c.testsPerformed[n].failCount++},f=function(){t.forEach(function(n){return!u&&n(c)})},c={name:n,failCount:0,warnCount:0,testCount:0,testsPerformed:{},errors:{},warnings:{},skipped:[],hasErrors:function(n){return n?Boolean(c.getErrors(n).length):r},hasWarnings:function(n){return n?Boolean(c.getWarnings(n).length):o},getErrors:function(n){return n?c.errors[n]?c.errors[n]:[]:c.errors},getWarnings:function(n){return n?c.warnings[n]?c.warnings[n]:[]:c.warnings},done:function(n){return"function"!=typeof n?c:(e||n(c),t.push(n),c)},after:function(n,t){return"function"!=typeof t?c:(!(e=e||{})[n]&&c.testsPerformed[n]?t(c):e[n]&&(e[n].callbacks=[].concat(i(e[n].callbacks||[]),[t])),c)},cancel:function(){return u=!0,c}};return{initFieldCounters:function(n){if(c.testsPerformed[n])return c;c.testsPerformed[n]={testCount:0,failCount:0,warnCount:0}},bumpTestError:s,bumpTestWarning:a,bumpTestCounter:function(n){if(!c.testsPerformed[n])return c;c.testsPerformed[n].testCount++,c.testCount++},fail:function(n,t,e){if(!c.testsPerformed[n])return c;"warn"===(e&&p.includes(e)?e:"fail")?a(n,t):s(n,t)},addToSkipped:function(n){!c.skipped.includes(n)&&c.skipped.push(n)},runCompletionCallbacks:f,markAsync:function(n){(e=e||{})[n]=e[n]||{},e[n]={done:!1,callbacks:e[n].callbacks||[]}},markAsDone:function(n){if(!n)return f();null!==e&&e[n]&&(e[n].done=!0,e[n].callbacks&&e[n].callbacks.forEach(function(n){return!u&&n(c)}))},output:c}}(n),o=[],u={specific:new y(e),result:r,pending:o};return a.set(u),t(l,r.output),a.set(null),[].concat(o).forEach(s),r.output};function m(n){return Boolean(Array.isArray(n))}function d(n){return Boolean("number"==typeof n)}function b(n){return Boolean("string"==typeof n)}function v(n,t){return t instanceof RegExp?t.test(n):"string"==typeof t&&new RegExp(t).test(n)}function w(t,e){return Array.isArray(e)&&["string","number","boolean"].includes(n(t))?e.includes(t):"string"==typeof e&&"string"==typeof t&&e.includes(t)}function E(n,t){return n===t}function N(n){var t=!isNaN(parseFloat(n))&&!isNaN(Number(n))&&isFinite(n);return Boolean(t)}function A(t){return!t||(N(t)?0===t:t.hasOwnProperty("length")?0===t.length:"object"!==n(t)||0===Object.keys(t).length)}function O(n,t){return N(n)&&N(t)&&Number(n)>Number(t)}function P(n,t){return N(n)&&N(t)&&Number(n)>=Number(t)}function k(n,t){return N(n)&&N(t)&&Number(n)<Number(t)}function T(n,t){return N(n)&&N(t)&&Number(n)<=Number(t)}function C(n,t){return n.length===t}m.negativeForm="isNotArray",d.negativeForm="isNotNumber",b.negativeForm="isNotString",v.negativeForm="notMatches",w.negativeForm="notInside",E.negativeForm="notEquals",N.negativeForm="isNotNumeric",A.negativeForm="isNotEmpty",O.alias="gt",P.alias="gte",k.alias="lt",T.alias="lte",C.negativeForm="lengthNotEquals";var j=function(n){var t=function(t){var e=n[t].negativeForm,r=n[t].alias;e&&(n[e]=function(){return!n[t].apply(n,arguments)}),r&&(n[r]=n[t])};for(var e in n)t(e);return n}({isArray:m,isNumber:d,isString:b,matches:v,inside:w,equals:E,isNumeric:N,isEmpty:A,greaterThan:O,greaterThanOrEquals:P,lessThan:k,lessThanOrEquals:T,longerThan:function(n,t){return n.length>t},longerThanOrEquals:function(n,t){return n.length>=t},shorterThan:function(n,t){return n.length<t},shorterThanOrEquals:function(n,t){return n.length<=t},lengthEquals:C});function F(t,e){if("function"==typeof t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(!0!==t.apply(void 0,[e].concat(o)))throw new Error("[Enforce]: invalid ".concat(n(e)," value"))}}var S=function(n,t){return n.hasOwnProperty(t)&&"function"==typeof n[t]},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},j,{},n);return"function"==typeof Proxy?function(n){var e=new Proxy(t,{get:function(t,r){if(S(t,r))return function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return F.apply(void 0,[t[r],n].concat(i)),e}}});return e}:function(n){return Object.keys(t).reduce(function(e,r){return S(t,r)?(e[r]=function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return F.apply(void 0,[t[r],n].concat(i)),e},e):e},{})}};return h.VERSION="7.1.2",h.enforce=new x({}),h.test=l,h.Enforce=x,h.validate=function(t){if("function"!=typeof t&&!(t instanceof Promise))throw new TypeError("[Validate]: expected ".concat(n(t)," to be a function."));try{return!1!==t()}catch(n){return!1}},h.any=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(){return t.some(function(n){try{return!1!==n()}catch(n){return!1}})}},h.WARN="warn",h.FAIL="fail",h});
//# sourceMappingURL=passable.min.js.map
